app-id: io.github.averyvisentin.TerminalTetris
runtime: org.freedesktop.Platform
runtime-version: "23.08"
sdk: org.freedesktop.Sdk
command: terminal-tetris
finish-args:
  # Grant access to the X11 and Wayland display servers
  - --share=ipc
  - --socket=x11
  - --socket=wayland
  # Persist user data
  - --persist=.local/share/terminal-tetris
modules:
  - name: python3-blessed
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app --no-deps blessed==1.20.0
    sources:
      - type: file
        url: https://files.pythonhosted.org/packages/b8/a3/c0598816b38c280965934a3994e6593e10741634f593e92d887a40b38c4b/blessed-1.20.0-py3-none-any.whl
        sha256: 8522caf3ac76901e1507f3545b63b276707f59422a5a589252c8b7c3d22a578a

  - name: terminal-tetris
    buildsystem: simple
    build-commands:
      # Install the application using pip
      - pip3 install --prefix=/app --no-deps .
      # Install the .desktop file
      - install -Dm644 io.github.averyvisentin.TerminalTetris.desktop /app/share/applications/io.github.averyvisentin.TerminalTetris.desktop
      # Install the appstream metadata
      - install -Dm644 io.github.averyvisentin.TerminalTetris.appdata.xml /app/share/metainfo/io.github.averyvisentin.TerminalTetris.appdata.xml
    sources:
      # Your application source code
      - type: dir
        path: .
